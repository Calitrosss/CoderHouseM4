<div>
  <h1>PRODUCTOS</h1>
  {{#ifNotAdmin user.role}}
    <button id="btnCart">Ver carrito</button>
  {{/ifNotAdmin}}
  <h2>Bienvenido {{user.first_name}} {{user.last_name}} "{{user.email}}" ({{user.role}})</h2>
  <p>
    {{#ifAdmin user.role}}
      <a href="/users-administrator"><button type="button">Ir a Usuarios</button></a>
    {{/ifAdmin}}
    {{#ifNotAdmin user.role}}
      <button id="btnProfile">Ir a mi perfil</button>
    {{/ifNotAdmin}}
    <button id="btnLogout">Cerrar sesión</button>
  </p>
  {{#ifNotAdmin user.role}}
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>ITEM</th>
          <th>COD</th>
          <th>PRECIO</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {{#each productsList.payload}}
          <tr>
            <td>{{this.id}}</td>
            <td>{{this.title}}</td>
            <td>{{this.code}}</td>
            <td>{{this.price}}</td>
            <td><button type="button" class="btnDetail">Ver detalle</button></td>
            <td><button type="button" class="btnAddToCart">Agregar al carrito</button></td>
          </tr>
        {{/each}}
      </tbody>
    </table>
    <br />
    <span>Página {{productsList.page}}/{{productsList.totalPages}}</span>
    {{#if productsList.hasPrevPage}}
      <button><a href={{productsList.prevLink}}>Anterior</a></button>
    {{/if}}
    {{#if productsList.hasNextPage}}
      <button><a href={{productsList.nextLink}}>Siguiente</a></button>
    {{/if}}
  {{/ifNotAdmin}}
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/js/products.js"></script>